# æ‰«æçº¿æŠ€å·§è§£å†³ä¼šè®®å®¤å®‰æ’é—®é¢˜

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [253. Meeting Rooms II](https://leetcode.com/problems/meeting-rooms-ii/)ğŸ”’ | [253. ä¼šè®®å®¤ II](https://leetcode.cn/problems/meeting-rooms-ii/)ğŸ”’ | ğŸŸ 

**-----------**

ä¹‹å‰é¢è¯•ï¼Œè¢«é—®åˆ°ä¸€é“éå¸¸ç»å…¸ä¸”éå¸¸å®ç”¨çš„ç®—æ³•é¢˜ç›®ï¼šä¼šè®®å®¤å®‰æ’é—®é¢˜ã€‚

åŠ›æ‰£ä¸Šç±»ä¼¼çš„é—®é¢˜æ˜¯ä¼šå‘˜é¢˜ç›®ï¼Œä½ å¯èƒ½æ²¡åŠæ³•åšï¼Œä½†å¯¹äºè¿™ç§ç»å…¸çš„ç®—æ³•é¢˜ï¼ŒæŒæ¡æ€è·¯è¿˜æ˜¯å¿…è¦çš„ã€‚

å…ˆè¯´ä¸‹é¢˜ç›®ï¼ŒåŠ›æ‰£ç¬¬ 253 é¢˜ã€Œä¼šè®®å®¤ IIã€ï¼š

ç»™ä½ è¾“å…¥è‹¥å¹²å½¢å¦‚ `[begin, end]` çš„åŒºé—´ï¼Œä»£è¡¨è‹¥å¹²ä¼šè®®çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œè¯·ä½ è®¡ç®—è‡³å°‘éœ€è¦ç”³è¯·å¤šå°‘é—´ä¼šè®®å®¤ã€‚

å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

<!-- muliti_language -->
```java
// è¿”å›éœ€è¦ç”³è¯·çš„ä¼šè®®å®¤æ•°é‡
int minMeetingRooms(int[][] meetings);
```

æ¯”å¦‚ç»™ä½ è¾“å…¥ `meetings = [[0,30],[5,10],[15,20]]`ï¼Œç®—æ³•åº”è¯¥è¿”å› 2ï¼Œå› ä¸ºåä¸¤ä¸ªä¼šè®®å’Œç¬¬ä¸€ä¸ªä¼šè®®æ—¶é—´æ˜¯å†²çªçš„ï¼Œè‡³å°‘ç”³è¯·ä¸¤ä¸ªä¼šè®®å®¤æ‰èƒ½è®©æ‰€æœ‰ä¼šè®®é¡ºåˆ©è¿›è¡Œã€‚

å¦‚æœä¼šè®®ä¹‹é—´çš„æ—¶é—´æœ‰é‡å ï¼Œé‚£å°±å¾—é¢å¤–ç”³è¯·ä¼šè®®å®¤æ¥å¼€ä¼šï¼Œæƒ³æ±‚è‡³å°‘éœ€è¦å¤šå°‘é—´ä¼šè®®å®¤ï¼Œå°±æ˜¯è®©ä½ è®¡ç®—åŒä¸€æ—¶åˆ»æœ€å¤šæœ‰å¤šå°‘ä¼šè®®åœ¨åŒæ—¶è¿›è¡Œã€‚

æ¢å¥è¯è¯´ï¼Œ**å¦‚æœæŠŠæ¯ä¸ªä¼šè®®çš„èµ·å§‹æ—¶é—´çœ‹åšä¸€ä¸ªçº¿æ®µåŒºé—´ï¼Œé‚£ä¹ˆé¢˜ç›®å°±æ˜¯è®©ä½ æ±‚æœ€å¤šæœ‰å‡ ä¸ªé‡å åŒºé—´**ï¼Œä»…æ­¤è€Œå·²ã€‚

å¯¹äºè¿™ç§æ—¶é—´å®‰æ’çš„é—®é¢˜ï¼Œæœ¬è´¨ä¸Šè®²å°±æ˜¯åŒºé—´è°ƒåº¦é—®é¢˜ï¼Œåæœ‰å…«ä¹å¾—æ’åºï¼Œç„¶åæ‰¾è§„å¾‹æ¥è§£å†³ã€‚

### è§£æ³•

- (https://aaronice.gitbook.io/lintcode/sweep-line/meeting-rooms-ii)
```java
public class Solution253 {  
  
    public static void main(String[] args) {  
        int[][] meetings = {{0, 30}, {5, 10}, {15, 20}};  
        Solution253 mysolution = new Solution253();  
        // ans: 2  
//        System.out.println("ans:" + mysolution.minMeetingRooms(meetings));  
        System.out.println("ans:" + mysolution.sweepingLine(meetings));  
  
        meetings = new int[][]{{7, 10}, {2, 4}};  
        // ans: 1  
//        System.out.println("ans:" + mysolution.minMeetingRooms(meetings));  
        System.out.println("ans:" + mysolution.sweepingLine(meetings));  
  
        meetings = new int[][] {{1, 2}, {2,3}};  
//        System.out.println("ans:" + mysolution.minMeetingRooms(meetings));  
        System.out.println("ans:" + mysolution.sweepingLine(meetings));  
    }  
  
    /**  
     * priorityQueue way     * @param meetings  
     * @return  
     */  
    public int minMeetingRooms(int[][] meetings) {  
        // by default, it is min heap  
        PriorityQueue<Integer> pq = new PriorityQueue<>();  
  
        // sort by start point  
        Arrays.sort(meetings, (o1, o2) -> o1[0]-o2[0]);  
        pq.add(meetings[0][1]);  
        for(int i = 1; i < meetings.length; i++) {  
            if(meetings[i][0] >= pq.peek()) {  
                pq.poll();  
            }  
  
            pq.add(meetings[i][1]);  
        }  
  
        return pq.size();  
    }  
  
    /**  
     * using sweeping line way     * @param meetings  
     * @return  
     */  
    private int sweepingLine(int[][] meetings) {  
        int n = meetings.length;  
        Point[] points = new Point[2 * n];  
        int j = 0;  
        // convert interval to points  
        for(int i = 0; i < n; i++) {  
            points[j] = new Point(meetings[i][0], 1);  
            points[j+1] = new Point(meetings[i][1], 0);  
            j += 2;  
        }  
  
        // calc maximum overlap number  
        int ans = 0;  
        int overlap = 0;  
        Arrays.sort(points, (o1, o2) -> o1.time == o2.time ? o1.type - o2.type : o1.time - o2.time);  
        for(int i = 0; i < 2 * n; i++) {  
            if(points[i].type == 1) ++overlap;  
            else if(points[i].type == 0) --overlap;  
  
            ans = Math.max(ans, overlap);  
        }  
  
        return ans;  
    }  
  
    class Point {  
        public Point(int time, int type) {  
            this.time = time;  
            this.type = type; // 1:start, 0:end, for resolving the case { {1,2}, {2, 3}}  
        }  
  
        private int time;  
        private int type;  
    }
}
```

