## LeetCodeé¢˜ç›®

| åŠ›æ‰£                                                                                           | éš¾åº¦  |
| :------------------------------------------------------------------------------------------- | :-: |
| [1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›](https://leetcode.cn/problems/capacity-to-ship-packages-within-d-days/) | ğŸŸ   |
| [410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼](https://leetcode.cn/problems/split-array-largest-sum/)                       | ğŸ”´  |
| [875. çˆ±åƒé¦™è•‰çš„ç‚ç‚](https://leetcode.cn/problems/koko-eating-bananas/)                            | ğŸŸ   |
| [å‰‘æŒ‡ Offer II 073. ç‹’ç‹’åƒé¦™è•‰](https://leetcode.cn/problems/nZZqjQ/)                               | ğŸŸ   |
|                                                                                              |     |
## è§£é¢˜åˆ†æ

è¿™ç±»é¢˜ç›®å¯èƒ½çš„è§£ç©ºé—´åœ¨ä¸€ä¸ªèŒƒå›´å†…ï¼Œä¸åœäºŒåˆ†éå†å¯èƒ½è§£ã€‚æ‰¾åˆ°ä¸€ä¸ªå¯è¡Œè§£åè¿˜è¦ç»§ç»­æ‰¾ï¼Œç›´åˆ°â€œæœ€å°å€¼â€çš„å¯è¡Œè§£ã€‚ç±»æ¯”åˆ°äºŒåˆ†æœç´¢ç®—æ³•ä¸­å°±æ˜¯æ»¡è¶³æ¡ä»¶çš„æœ€å·¦å€¼ã€‚

ä»¥â€410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼â€œé—®é¢˜ä¸ºä¾‹ï¼Œå¯èƒ½è§£ç©ºé—´åœ¨â€œæœ€å¤§çš„å•ä¸ªå…ƒç´ â€å’Œâ€œæ‰€æœ‰å…ƒç´ å’Œâ€ä¹‹é—´ã€‚ç„¶åäºŒåˆ†æŸ¥æ‰¾å¯è¡Œè§£ç©ºé—´ï¼Œä¸€ä¸ªå¯è¡Œè§£æ˜¯åˆ†ç»„æ•°ç­‰äºæˆ–è€…å°äºç›®æ ‡ç»„æ•°ã€‚â€œå°äºç›®æ ‡ç»„æ•°â€æˆç«‹çš„åŸå› æ˜¯å¯ä»¥ç»§ç»­æ‹†åˆ†ï¼Œæ‹†åˆ†åå­æ•°ç»„å…ƒç´ å’Œä¸€å®šæ»¡è¶³æ¡ä»¶ï¼Œæ˜¾ç„¶è¿™ä¸ä¸€å®šæ˜¯æœ€ä¼˜è§£ã€‚æ‰¾åˆ°å¯è¡Œè§£åå¦‚æœç»§ç»­ä¼˜åŒ–æ¡ä»¶ä¸æˆç«‹ï¼Œé‚£ä¹ˆä¸Šä¸€æ¬¡çš„å¯è¡Œè§£å°±æ˜¯æœ€ä¼˜è§£ã€‚

ä»å¯è¡Œè§£ä¸­æ‰¾æœ€å·¦å€¼â€œäºŒåˆ†æœç´¢â€ä¸­è¾¹ç•Œæ¡ä»¶å¾ˆå®¹æ˜“å‡ºé”™ã€‚æ¯”å¦‚ä¸‹é¢æ‰¾æœ€å·¦å€¼çš„æ–¹å¼ï¼š

```java
        while (left < right) {
            int mid = left + (right - left) / 2;

            int splits = split(nums, mid);
            if (splits > m) {
                // å¦‚æœåˆ†å‰²æ•°å¤ªå¤šï¼Œè¯´æ˜ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€å¤ªå°ï¼Œæ­¤æ—¶éœ€è¦å°†ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€è°ƒå¤§
                // ä¸‹ä¸€è½®æœç´¢çš„åŒºé—´æ˜¯ [mid + 1, right]
                left = mid + 1;
            } else {
                // ä¸‹ä¸€è½®æœç´¢çš„åŒºé—´æ˜¯ä¸Šä¸€è½®çš„åé¢åŒºé—´ [left, mid]
                right = mid;
            }
        }
```

ä¸ªäººæ›´å–œæ¬¢ä¸‹é¢çš„æ–¹å¼ï¼Œå®¹æ˜“ç†è§£ï¼Œä¸æ˜“å‡ºé”™ï¼Œç¼ºç‚¹æ˜¯ä»£ç æœ‰ç‚¹å†—ä½™ã€‚

```java
while(left <= right) {
	int mid = left + (right - left) / 2;
	int groups = split(nums, mid);

	if(groups > k) { // åˆ†ç»„å’Œå¤ªå°ï¼Œåˆ†ç»„æ•°å¤§äºé¢„å®šå€¼
		left = mid + 1;
	} else if(groups < k) { // åˆ†ç»„å’Œå¤ªå¤§ï¼Œåˆ†ç»„æ•°å°äºé¢„å®šå€¼
		right = mid - 1;
	} else { // å¯èƒ½åˆ†ç»„æ•° < k èµ°ä¸åˆ°è¿™é‡Œï¼Œå› ä¸º split æ˜¯è´ªå¿ƒç®—æ³•ã€‚ä½†å®é™…ä¸Šå¯ä»¥ä» < k æ‹†åˆ†åˆ° k ç»„
		if(mid == max || split(nums, mid -1) > k) {
			return mid;
		} else {
			right = mid - 1;
		}
	}
}
```


```java
package org.stone.study.algo.ex202403;  
  
/**  
 * [410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼](https://leetcode.cn/problems/split-array-largest-sum/)
 * * ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆ k ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚  
 * è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™ k ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚  
 */  
public class SplitArrayWithMinSum {  
  
    public static void main(String[] args) {  
        int[] nums = new int[] {7,2,5,10,8};  
        int k = 2;  
        // ans: 18  
        System.out.println("ans:" + new SplitArrayWithMinSum().splitArray(nums, k));  
    }  
  
    /**  
     * ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼ŒæŠŠè¿™ä¸ªæ•°ç»„åˆ†æˆ k ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚  
     * æ‰¾åˆ°ä¸€ç§åˆ†ç»„æ–¹å¼ï¼Œä½¿å¾—è¿”å›k ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°  
     * @param nums  
     * @param k  
     * @return  
     */  
    public int splitArray(int[] nums, int k) {  
        int max = 0, sum = 0;  
        for(int num : nums) {  
            max = Math.max(max, num);  
            sum += num;  
        }  
  
        int left = max, right = sum;  
        while(left <= right) {  
            int mid = left + (right - left) / 2;  
  
            int groups = split(nums, mid);  
            //System.out.println("left:" + left + ", right:" + right + ", mid:" + mid + ", groups:" + groups);  
            if(groups > k) { // åˆ†ç»„å’Œå¤ªå°ï¼Œåˆ†ç»„æ•°å¤§äºé¢„å®šå€¼  
                left = mid + 1;  
            } else if(groups < k) { // åˆ†ç»„å’Œå¤ªå¤§ï¼Œåˆ†ç»„æ•°å°äºé¢„å®šå€¼  
                right = mid - 1;  
            } else { // å¯èƒ½åˆ†ç»„æ•° < k èµ°ä¸åˆ°è¿™é‡Œï¼Œå› ä¸º split æ˜¯è´ªå¿ƒç®—æ³•ã€‚ä½†å®é™…ä¸Šå¯ä»¥ä» < k æ‹†åˆ†åˆ° k ç»„  
                if(mid == max || split(nums, mid -1) != k) {  
                    return mid;  
                } else {  
                    right = mid - 1;  
                }  
            }  
        }  
  
        return left;  
    }  
  
    /**  
     * æ‹†åˆ†æ•°ç»„ï¼Œæ¯ç»„å’Œæœ€å¤§ä¸ºmaxSumã€‚è¿”å›å¯ä»¥æ‹†åˆ†çš„ç»„æ•°  
     * ç›´æ¥è´ªå¿ƒç®—æ³•å®ç°  
     */  
    private int split(int[] nums, int maxSum) {  
        int curSum = 0;  
        int splitNum = 1;  
  
        for(int num : nums) {  
            if(curSum + num > maxSum) {  
                ++splitNum;  
                curSum = 0;  
            }  
  
            curSum += num;  
        }  
  
        return splitNum;  
    }  
}
```


```java
package org.stone.study.algo.ex202403;  
  
import java.util.Arrays;  
  
/**  
 * [875. çˆ±åƒé¦™è•‰çš„ç‚ç‚](https://leetcode.cn/problems/koko-eating-bananas/)
 * ç‚ç‚å–œæ¬¢åƒé¦™è•‰ã€‚è¿™é‡Œæœ‰ n å †é¦™è•‰ï¼Œç¬¬ i å †ä¸­æœ‰ piles[i] æ ¹é¦™è•‰ã€‚è­¦å«å·²ç»ç¦»å¼€äº†ï¼Œå°†åœ¨ h å°æ—¶åå›æ¥ã€‚  
 * ç‚ç‚å¯ä»¥å†³å®šå¥¹åƒé¦™è•‰çš„é€Ÿåº¦ k ï¼ˆå•ä½ï¼šæ ¹/å°æ—¶ï¼‰ã€‚æ¯ä¸ªå°æ—¶ï¼Œå¥¹å°†ä¼šé€‰æ‹©ä¸€å †é¦™è•‰ï¼Œä»ä¸­åƒæ‰ k æ ¹ã€‚å¦‚æœè¿™å †é¦™è•‰å°‘äº k æ ¹ï¼Œå¥¹å°†åƒæ‰è¿™å †çš„æ‰€æœ‰é¦™è•‰ï¼Œç„¶åè¿™ä¸€å°æ—¶å†…ä¸ä¼šå†åƒæ›´å¤šçš„é¦™è•‰ã€‚  
 * ç‚ç‚å–œæ¬¢æ…¢æ…¢åƒï¼Œä½†ä»ç„¶æƒ³åœ¨è­¦å«å›æ¥å‰åƒæ‰æ‰€æœ‰çš„é¦™è•‰ã€‚  
 * è¿”å›å¥¹å¯ä»¥åœ¨ h å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ kï¼ˆk ä¸ºæ•´æ•°ï¼‰ã€‚  
 */  
public class MinEatingSpeed {  
    /**  
     * è§£æ³• 1ï¼šäºŒåˆ†æŸ¥æ‰¾æœ€å·¦å€¼è¾¹ç•Œå¤„ç†å¥½ç†è§£ä¸€ç‚¹ã€‚  
     * @param piles  
     * @param h  
     * @return  
     */  
    public int minEatingSpeed(int[] piles, int h) {  
        int max = Arrays.stream(piles).max().getAsInt();  
  
        int left = 1, right = max;  
        while(left <= right) {  
            int mid = left + (right - left) / 2;  
  
            long spent = spentHours(piles, mid);  
  
            if(spent > h) {  
                left = mid + 1;  
            } else if(spent < h){  
                right = mid - 1;  
            } else {  
                //System.out.println("spent:" + spent + ", left:" + left + ", right:" + right);  
                if(mid == 1 || spentHours(piles, mid - 1) > h) {  
                    return mid;  
                } else {  
                    right = mid - 1;  
                }  
            }  
        }  
        //System.out.println("left:" + left + ", right:" + right);  
        return left;  
    }  
  
    /**  
     * ä»¥é€Ÿåº¦ speed ä¾æ¬¡æ¶ˆè€— piles æ•°ç»„ã€‚ä¸è¶³å»æ•´ï¼ˆå¾€å¤§çš„å–ï¼‰  
     */  
    private long spentHours(int[] piles, int speed) {  
        long spent = 0;  
        for(int pile : piles) {  
            spent += (pile + speed - 1) / speed;  
        }  
  
        return spent;  
    }  
  
  
    /**  
     * è§£æ³• 2ï¼Œæ›´ç®€æ´ï¼Œä½†æ˜¯äºŒåˆ†æŸ¥æ‰¾æœ€å·¦å€¼è¾¹ç•Œç†è§£ä¸Šæœ‰ç‚¹å›°éš¾  
     * @param piles  
     * @param h  
     * @return  
     */  
    public int minEatingSpeed2(int[] piles, int h) {  
        int max = 0;  
        for(int p : piles) {  
            max = Math.max(max, p);  
        }  
  
        int l = 1, r = max, ans = max;  
        while(l <= r) {  
            int total = 0;  
            int m = l + (r -l) / 2;  
            for(int p : piles) {  
                total += (p-1)/m + 1; //å‘ä¸Šå–æ•´  
            }  
  
            if(total > h) {  
                l = m + 1;  
            } else {  
                ans = m;  
                r = m - 1;  
            }  
        }  
  
        return ans;  
    }  
}
```


é€šç”¨çš„äºŒåˆ†æŸ¥æ‰¾å€¼ï¼Œæœ€å·¦å€¼ï¼Œæœ€å³å€¼æ–¹æ³•è¯·å‚è€ƒ[^1]

[^1]:  [github](https://github.com/shidongwa/java-study/blob/main/src/main/java/org/stone/study/algo/search/BinarySearch.java)



```java

package org.stone.study.algo.search;  
  
/**  
 * @Author: shidonghua  
 * @Description:  
 * @Date: 3/8/21 09:07  
 * @Version: 1.0  
 */public class BinarySearch {  
  
    /**  
     * äºŒåˆ†æœç´¢ï¼Œå¹¶æ‰¾æœ€å·¦è¾¹çš„å…ƒç´   
     *  
     * @param a  
     * @param n  
     * @param value  
     * @return  
     */  
    public int bsearch_LeftMost(int[] a, int n, int value) {  
        int low = 0;  
        int high = n - 1;  
        while (low <= high) {  
            int mid = low + ((high - low) >> 1);  
            if (a[mid] > value) {  
                high = mid - 1;  
            } else if (a[mid] < value) {  
                low = mid + 1;  
            } else {  
                if ((mid == 0) || (a[mid - 1] != value)) return mid; // æœ€å·¦é€¼è¿‘  
                else high = mid - 1;  
            }  
        }  
        return -1;  
    }  
  
    /**  
     * äºŒåˆ†æœç´¢æœ€å³è¾¹çš„å…ƒç´   
     *  
     * @param a  
     * @param n  
     * @param value  
     * @return  
     */  
    public int bsearch_RightMost(int[] a, int n, int value) {  
        int low = 0;  
        int high = n - 1;  
        while (low <= high) {  
            int mid = low + ((high - low) >> 1);  
            if (a[mid] > value) {  
                high = mid - 1;  
            } else if (a[mid] < value) {  
                low = mid + 1;  
            } else {  
                if ((mid == n - 1) || (a[mid + 1] != value)) return mid; // å¾€å³è¾¹é€¼è¿‘  
                else low = mid + 1;  
            }  
        }  
        return -1;  
    }  
  
    /**  
     * ç¬¬ä¸€ä¸ªå¤§äºç­‰äºå…ƒç´   
     *  
     * @param a  
     * @param n  
     * @param value  
     * @return  
     */  
    public int bsearch_GE(int[] a, int n, int value) {  
        int low = 0;  
        int high = n - 1;  
        while (low <= high) {  
            int mid = low + ((high - low) >> 1);  
            if (a[mid] >= value) {  
                if ((mid == 0) || (a[mid - 1] < value)) return mid;  
                else high = mid - 1;  
            } else {  
                low = mid + 1;  
            }  
        }  
        return -1;  
    }  
  
    /**  
     * æœ€åä¸€ä¸ªå°äºç­‰äº  
     *  
     * @param a  
     * @param n  
     * @param value  
     * @return  
     */  
    public int bsearch_LE(int[] a, int n, int value) {  
        int low = 0;  
        int high = n - 1;  
        while (low <= high) {  
            int mid = low + ((high - low) >> 1);  
            if (a[mid] > value) {  
                high = mid - 1;  
            } else {  
                if ((mid == n - 1) || (a[mid + 1] > value)) return mid;  
                else low = mid + 1;  
            }  
        }  
        return -1;  
    }  
}
```


## æ€»ç»“

äºŒåˆ†æœç´¢éœ€è¦æ•°ç»„æ»¡è¶³å•è°ƒæ€§ï¼Œç®€å•ç­‰å€¼æœç´¢çš„åœºæ™¯æ¯”è¾ƒå°‘ï¼Œå®é™…åœºæ™¯æ›´å¤šæ˜¯æœ€å€¼æœç´¢ï¼Œæ˜ å°„åˆ°ç®—æ³•ä¸­å°±æ˜¯æ»¡è¶³æ¡ä»¶çš„æœ€å·¦æˆ–è€…æœ€å³å€¼ã€‚è¿™æ—¶å¤„ç†ç®—æ³•çš„è¾¹ç•Œæ¡ä»¶å¾ˆé‡è¦ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ã€‚

ç®—æ³•é¢˜ä¸€èˆ¬ä¸ä¼šç›´æ¥è®©å†™äºŒåˆ†æœç´¢ï¼Œéœ€è¦æŠŠå…·ä½“é—®é¢˜æ˜ å°„åˆ°â€œäºŒåˆ†æœç´¢â€çš„è§£é¢˜æ€è·¯ä¸Šã€‚æ¯”å¦‚è§£ç©ºé—´åœ¨ä¸€ä¸ªå•è°ƒæ•´æ•°æ•°ç»„ä¸Šï¼Œæ‰¾æœ€å°è§£ç­‰ã€‚