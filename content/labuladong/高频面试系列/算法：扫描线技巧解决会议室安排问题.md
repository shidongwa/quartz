## LeetCodeé¢˜ç›®

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [253. Meeting Rooms II](https://leetcode.com/problems/meeting-rooms-ii/)ğŸ”’ | [253. ä¼šè®®å®¤ II](https://leetcode.cn/problems/meeting-rooms-ii/)ğŸ”’ | ğŸŸ 
## ç®—æ³•åˆ†æ

å¤§å‚é¢è¯•ï¼Œä¸€é“éå¸¸ç»å…¸ä¸”å®ç”¨çš„ç®—æ³•é¢˜ç›®ï¼šä¼šè®®å®¤å®‰æ’é—®é¢˜ã€‚

å…ˆè¯´ä¸‹é¢˜ç›®ï¼ŒåŠ›æ‰£ç¬¬ 253 é¢˜ã€Œä¼šè®®å®¤ IIã€ï¼ˆåŠ›æ‰£ä¸Šè¯¥é¢˜æ˜¯ä¼šå‘˜é¢˜ç›®ï¼Œä½ å¯èƒ½æ²¡åŠæ³•åšï¼‰ï¼šç»™ä½ è¾“å…¥è‹¥å¹²å½¢å¦‚ `[begin, end]` çš„åŒºé—´ï¼Œä»£è¡¨è‹¥å¹²ä¼šè®®çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œè¯·ä½ è®¡ç®—è‡³å°‘éœ€è¦ç”³è¯·å¤šå°‘é—´ä¼šè®®å®¤ã€‚

å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

<!-- muliti_language -->
```java
// è¿”å›éœ€è¦ç”³è¯·çš„ä¼šè®®å®¤æ•°é‡
int minMeetingRooms(int[][] meetings);
```

æ¯”å¦‚ç»™ä½ è¾“å…¥ `meetings = [[0,30],[5,10],[15,20]]`ï¼Œç®—æ³•åº”è¯¥è¿”å› 2ï¼Œå› ä¸ºåä¸¤ä¸ªä¼šè®®å’Œç¬¬ä¸€ä¸ªä¼šè®®æ—¶é—´æ˜¯å†²çªçš„ï¼Œè‡³å°‘ç”³è¯·ä¸¤ä¸ªä¼šè®®å®¤æ‰èƒ½è®©æ‰€æœ‰ä¼šè®®é¡ºåˆ©è¿›è¡Œã€‚

å¦‚æœä¼šè®®ä¹‹é—´çš„æ—¶é—´æœ‰é‡å ï¼Œé‚£å°±å¾—é¢å¤–ç”³è¯·ä¼šè®®å®¤æ¥å¼€ä¼šï¼Œæƒ³æ±‚è‡³å°‘éœ€è¦å¤šå°‘é—´ä¼šè®®å®¤ï¼Œå°±æ˜¯è®©ä½ è®¡ç®—åŒä¸€æ—¶åˆ»æœ€å¤šæœ‰å¤šå°‘ä¼šè®®åœ¨åŒæ—¶è¿›è¡Œã€‚

æ¢å¥è¯è¯´ï¼Œ**å¦‚æœæŠŠæ¯ä¸ªä¼šè®®çš„èµ·å§‹æ—¶é—´çœ‹åšä¸€ä¸ªçº¿æ®µåŒºé—´ï¼Œé‚£ä¹ˆé¢˜ç›®å°±æ˜¯è®©ä½ æ±‚æœ€å¤šæœ‰å‡ ä¸ªé‡å åŒºé—´**ã€‚

å¯¹äºè¿™ç§æ—¶é—´å®‰æ’çš„é—®é¢˜ï¼Œæœ¬è´¨ä¸Šè®²å°±æ˜¯åŒºé—´è°ƒåº¦é—®é¢˜ï¼Œä¸€èˆ¬å…ˆæ’åºï¼Œç„¶åæ‰¾è§„å¾‹æ¥è§£å†³ã€‚

### è§£æ³•1ï¼šä¼˜å…ˆçº§é˜Ÿåˆ—

1. æŒ‰å¼€å§‹æ—¶é—´å‡åºæ’åº
2. æŠŠç»“æŸæ—¶é—´æ”¾å…¥å°é¡¶å †ï¼›æ”¾å…¥å‰å…ˆæ£€æŸ¥å½“å‰å¼€å§‹æ—¶é—´æ˜¯å¦>=å †é¡¶å…ƒç´ çš„ç»“æŸæ—¶é—´ï¼Œæ˜¯çš„è¯â€œæ¶ˆæ‰â€å †é¡¶å…ƒç´ ã€‚å¦‚æœä¸¤æ¬¡ä¼šè®®æ—¶é—´ä¸å†²çªçš„è¯ç®—æ³•æ•ˆæœæ˜¯åˆ é™¤ä¸€ä¸ªï¼Œå†æ–°å¢ä¸€ä¸ªã€‚åˆ é™¤çš„é‚£ä¸ªé€‰æ‹©ç»“æŸæ—¶é—´æœ€å°çš„é‚£ä¸ªï¼Œå› ä¸ºè¿™ä¸ªæ˜¯æœ€ä¸å¯èƒ½äº§ç”Ÿå†²çªçš„ä¼šè®®
3. ç»Ÿè®¡ä¼˜å…ˆé˜Ÿåˆ—é•¿åº¦å°±æ˜¯æœ€å¤§ä¼šè®®æ—¶é—´é‡å çš„ä¸ªæ•°ã€‚è™½ç„¶é˜Ÿåˆ—ä¸­å‰©ä¸‹çš„ä¸æ˜¯çœŸæ­£å†²çªçš„ä¼šè®®ï¼Œä½†æ˜¯æ ¹æ®ç¬¬ 2 æ­¥çš„â€æ¶ˆé™¤-æ–°å¢â€œç­–ç•¥ï¼Œæ•°é‡ä¸Šæ˜¯æ­£ç¡®çš„

### è§£æ³•2ï¼šæ‰«æçº¿

æ‰«æçº¿éœ€è¦è¿›è¡Œæ•°æ®ç»“æ„å˜æ¢ï¼Œä»åŒºé—´è½¬åŒ–ä¸ºX è½´ä¸Šçš„ç‚¹ã€‚ç‚¹çš„ç±»å‹å®šä¹‰å¾ˆæœ‰æŠ€å·§ï¼Œç»“æŸç‚¹ç±»å‹éœ€è¦å°äºèµ·å§‹ç‚¹ï¼Œä¿è¯ä¸¤ä¸ªåŒºé—´é¦–å°¾ç›¸è¿æ—¶å…ˆâ€æ¶ˆæ‰â€œä¸Šä¸€ä¸ªåŒºé—´ç‚¹ï¼Œå†â€æ–°å¢â€œå½“å‰åŒºé—´ç‚¹ã€‚

æ•°æ®ç»“æ„è½¬æ¢ä¸ºç‚¹åï¼Œæ’åºå…ˆæŒ‰æ—¶é—´å‡åºï¼Œå†æŒ‰ç‚¹ç±»å‹ï¼ˆ**ç»“æŸç‚¹ç±»å‹å®šä¹‰å¿…é¡»å°äºèµ·å§‹ç‚¹**ï¼‰å‡åºæ’åºã€‚

- (https://aaronice.gitbook.io/lintcode/sweep-line/meeting-rooms-ii)
```java
public class Solution253 {  
  
    public static void main(String[] args) {  
        int[][] meetings = {{0, 30}, {5, 10}, {15, 20}};  
        Solution253 mysolution = new Solution253();  
        // ans: 2  
//        System.out.println("ans:" + mysolution.minMeetingRooms(meetings));  
        System.out.println("ans:" + mysolution.sweepingLine(meetings));  
  
        meetings = new int[][]{{7, 10}, {2, 4}};  
        // ans: 1  
//        System.out.println("ans:" + mysolution.minMeetingRooms(meetings));  
        System.out.println("ans:" + mysolution.sweepingLine(meetings));  
  
        meetings = new int[][] {{1, 2}, {2,3}};  
//        System.out.println("ans:" + mysolution.minMeetingRooms(meetings));  
        System.out.println("ans:" + mysolution.sweepingLine(meetings));  
    }  
  
    /**  
     * priorityQueue way     * @param meetings  
     * @return  
     */  
    public int minMeetingRooms(int[][] meetings) {  
        // by default, it is min heap  
        PriorityQueue<Integer> pq = new PriorityQueue<>();  
  
        // sort by start point  
        Arrays.sort(meetings, (o1, o2) -> o1[0]-o2[0]);  
        pq.add(meetings[0][1]);  
        for(int i = 1; i < meetings.length; i++) {  
            if(meetings[i][0] >= pq.peek()) {  
                pq.poll();  
            }  
  
            pq.add(meetings[i][1]);  
        }  
  
        return pq.size();  
    }  
  
    /**  
     * using sweeping line way     * @param meetings  
     * @return  
     */  
    private int sweepingLine(int[][] meetings) {  
        int n = meetings.length;  
        Point[] points = new Point[2 * n];  
        int j = 0;  
        // convert interval to points  
        for(int i = 0; i < n; i++) {  
            points[j] = new Point(meetings[i][0], 1);  
            points[j+1] = new Point(meetings[i][1], 0);  
            j += 2;  
        }  
  
        // calc maximum overlap number  
        int ans = 0;  
        int overlap = 0;  
        Arrays.sort(points, (o1, o2) -> o1.time == o2.time ? o1.type - o2.type : o1.time - o2.time);  
        for(int i = 0; i < 2 * n; i++) {  
            if(points[i].type == 1) ++overlap;  
            else if(points[i].type == 0) --overlap;  
  
            ans = Math.max(ans, overlap);  
        }  
  
        return ans;  
    }  
  
    class Point {  
        public Point(int time, int type) {  
            this.time = time;  
            this.type = type; // 1:start, 0:end, for resolving the case { {1,2}, {2, 3}}  
        }  
  
        private int time;  
        private int type;  
    }
}
```


## æ€»ç»“

**æ‰«æçº¿ç®—æ³•**è§£å†³**ä¼šè®®å®¤å®‰æ’**é—®é¢˜ç†è§£èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚å…³é”®ç‚¹æ˜¯æ—¶é—´åŒºé—´åˆ°ç‚¹çš„æ•°æ®ç»“æ„è½¬æ¢ï¼Œç‚¹å¯ä»¥ç†è§£ä¸º X æ—¶é—´è½´ä¸Šçš„ä¸€ä¸ªç‚¹ã€‚ç‚¹çš„ç±»å‹å®šä¹‰æ˜¯å…³é”®ï¼Œç»“æŸç‚¹ç±»å‹å¿…é¡»å°äºèµ·å§‹ç‚¹ç±»å‹ï¼Œè§£å†³åŒºé—´é¦–å°¾ç›¸è¿æ—¶å…ˆéå†ç¬¬ 1 ä¸ªåŒºé—´çš„ç»“æŸç‚¹ï¼Œå†éå†ç¬¬ 2 ä¸ªåŒºé—´çš„èµ·å§‹ç‚¹ï¼Œè¿™æ ·ç®—çš„ overlap æ•°æ‰æ˜¯æ­£ç¡®çš„ã€‚